{"ast":null,"code":"(function ($, window, i) {\n  // Bootstrap 4 Modal\n  $.fn.fireModal = function (options) {\n    var options = $.extend({\n      size: 'modal-md',\n      center: false,\n      animation: true,\n      title: 'Modal Title',\n      closeButton: true,\n      header: true,\n      bodyClass: '',\n      footerClass: '',\n      body: '',\n      buttons: [],\n      autoFocus: true,\n      removeOnDismiss: false,\n      created: function created() {},\n      appended: function appended() {},\n      onFormSubmit: function onFormSubmit() {},\n      modal: {}\n    }, options);\n    this.each(function () {\n      i++;\n      var id = 'fire-modal-' + i,\n          trigger_class = 'trigger--' + id,\n          trigger_button = $('.' + trigger_class);\n      $(this).addClass(trigger_class); // Get modal body\n\n      var body = options.body;\n\n      if (typeof body == 'object') {\n        if (body.length) {\n          var part = body;\n          body = body.removeAttr('id').clone().removeClass('modal-part');\n          part.remove();\n        } else {\n          body = '<div class=\"text-danger\">Modal part element not found!</div>';\n        }\n      } // Modal base template\n\n\n      var modal_template = '   <div class=\"modal' + (options.animation == true ? ' fade' : '') + '\" tabindex=\"-1\" role=\"dialog\" id=\"' + id + '\">  ' + '     <div class=\"modal-dialog ' + options.size + (options.center ? ' modal-dialog-centered' : '') + '\" role=\"document\">  ' + '       <div class=\"modal-content\">  ' + (options.header == true ? '         <div class=\"modal-header\">  ' + '           <h5 class=\"modal-title\">' + options.title + '</h5>  ' + (options.closeButton == true ? '           <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">  ' + '             <span aria-hidden=\"true\">&times;</span>  ' + '           </button>  ' : '') + '         </div>  ' : '') + '         <div class=\"modal-body\">  ' + '         </div>  ' + (options.buttons.length > 0 ? '         <div class=\"modal-footer\">  ' + '         </div>  ' : '') + '       </div>  ' + '     </div>  ' + '  </div>  '; // Convert modal to object\n\n      var modal_template = $(modal_template); // Start creating buttons from 'buttons' option\n\n      var this_button;\n      options.buttons.forEach(function (item) {\n        // get option 'id'\n        var id = \"id\" in item ? item.id : ''; // Button template\n\n        this_button = '<button type=\"' + (\"submit\" in item && item.submit == true ? 'submit' : 'button') + '\" class=\"' + item[\"class\"] + '\" id=\"' + id + '\">' + item.text + '</button>'; // add click event to the button\n\n        this_button = $(this_button).off('click').on(\"click\", function () {\n          // execute function from 'handler' option\n          item.handler.call(this, modal_template);\n        }); // append generated buttons to the modal footer\n\n        $(modal_template).find('.modal-footer').append(this_button);\n      }); // append a given body to the modal\n\n      $(modal_template).find('.modal-body').append(body); // add additional body class\n\n      if (options.bodyClass) $(modal_template).find('.modal-body').addClass(options.bodyClass); // add footer body class\n\n      if (options.footerClass) $(modal_template).find('.modal-footer').addClass(options.footerClass); // execute 'created' callback\n\n      options.created.call(this, modal_template, options); // modal form and submit form button\n\n      var modal_form = $(modal_template).find('.modal-body form'),\n          form_submit_btn = modal_template.find('button[type=submit]'); // append generated modal to the body\n\n      $(\"body\").append(modal_template); // execute 'appended' callback\n\n      options.appended.call(this, $('#' + id), modal_form, options); // if modal contains form elements\n\n      if (modal_form.length) {\n        // if `autoFocus` option is true\n        if (options.autoFocus) {\n          // when modal is shown\n          $(modal_template).on('shown.bs.modal', function () {\n            // if type of `autoFocus` option is `boolean`\n            if (typeof options.autoFocus == 'boolean') modal_form.find('input:eq(0)').focus(); // the first input element will be focused\n            // if type of `autoFocus` option is `string` and `autoFocus` option is an HTML element\n            else if (typeof options.autoFocus == 'string' && modal_form.find(options.autoFocus).length) modal_form.find(options.autoFocus).focus(); // find elements and focus on that\n          });\n        } // form object\n\n\n        var form_object = {\n          startProgress: function startProgress() {\n            modal_template.addClass('modal-progress');\n          },\n          stopProgress: function stopProgress() {\n            modal_template.removeClass('modal-progress');\n          }\n        }; // if form is not contains button element\n\n        if (!modal_form.find('button').length) $(modal_form).append('<button class=\"d-none\" id=\"' + id + '-submit\"></button>'); // add click event\n\n        form_submit_btn.click(function () {\n          modal_form.submit();\n        }); // add submit event\n\n        modal_form.submit(function (e) {\n          // start form progress\n          form_object.startProgress(); // execute `onFormSubmit` callback\n\n          options.onFormSubmit.call(this, modal_template, e, form_object);\n        });\n      }\n\n      $(document).on(\"click\", '.' + trigger_class, function () {\n        var modal = $('#' + id).modal(options.modal);\n\n        if (options.removeOnDismiss) {\n          modal.on('hidden.bs.modal', function () {\n            modal.remove();\n          });\n        }\n\n        return false;\n      });\n    });\n  }; // Bootstrap Modal Destroyer\n\n\n  $.destroyModal = function (modal) {\n    modal.modal('hide');\n    modal.on('hidden.bs.modal', function () {});\n  }; // Card Progress Controller\n\n\n  $.cardProgress = function (card, options) {\n    var options = $.extend({\n      dismiss: false,\n      dismissText: 'Cancel',\n      spinner: true,\n      onDismiss: function onDismiss() {}\n    }, options);\n    var me = $(card);\n    me.addClass('card-progress');\n\n    if (options.spinner == false) {\n      me.addClass('remove-spinner');\n    }\n\n    if (options.dismiss == true) {\n      var btn_dismiss = '<a class=\"btn btn-danger card-progress-dismiss\">' + options.dismissText + '</a>';\n      btn_dismiss = $(btn_dismiss).off('click').on('click', function () {\n        me.removeClass('card-progress');\n        me.find('.card-progress-dismiss').remove();\n        options.onDismiss.call(this, me);\n      });\n      me.append(btn_dismiss);\n    }\n\n    return {\n      dismiss: function dismiss(dismissed) {\n        $.cardProgressDismiss(me, dismissed);\n      }\n    };\n  };\n\n  $.cardProgressDismiss = function (card, dismissed) {\n    var me = $(card);\n    me.removeClass('card-progress');\n    me.find('.card-progress-dismiss').remove();\n    if (dismissed) dismissed.call(this, me);\n  };\n\n  $.chatCtrl = function (element, chat) {\n    var chat = $.extend({\n      position: 'chat-right',\n      text: '',\n      time: moment(new Date().toISOString()).format('hh:mm'),\n      picture: '',\n      type: 'text',\n      // or typing\n      timeout: 0,\n      onShow: function onShow() {}\n    }, chat);\n    var target = $(element),\n        element = '<div class=\"chat-item ' + chat.position + '\" style=\"display:none\">' + '<img src=\"' + chat.picture + '\">' + '<div class=\"chat-details\">' + '<div class=\"chat-text\">' + chat.text + '</div>' + '<div class=\"chat-time\">' + chat.time + '</div>' + '</div>' + '</div>',\n        typing_element = '<div class=\"chat-item chat-left chat-typing\" style=\"display:none\">' + '<img src=\"' + chat.picture + '\">' + '<div class=\"chat-details\">' + '<div class=\"chat-text\"></div>' + '</div>' + '</div>';\n    var append_element = element;\n\n    if (chat.type == 'typing') {\n      append_element = typing_element;\n    }\n\n    if (chat.timeout > 0) {\n      setTimeout(function () {\n        target.find('.chat-content').append($(append_element).fadeIn());\n      }, chat.timeout);\n    } else {\n      target.find('.chat-content').append($(append_element).fadeIn());\n    }\n\n    var target_height = 0;\n    target.find('.chat-content .chat-item').each(function () {\n      target_height += $(this).outerHeight();\n    });\n    setTimeout(function () {\n      target.find('.chat-content').scrollTop(target_height, -1);\n    }, 100);\n    chat.onShow.call(this, append_element);\n  };\n})(jQuery, this, 0);","map":{"version":3,"sources":["/home/matheuspuppe/Desktop/github/web_purple_stock/app/javascript/vendors/stisla/stisla.js"],"names":["$","window","i","fn","fireModal","options","extend","size","center","animation","title","closeButton","header","bodyClass","footerClass","body","buttons","autoFocus","removeOnDismiss","created","appended","onFormSubmit","modal","each","id","trigger_class","trigger_button","addClass","length","part","removeAttr","clone","removeClass","remove","modal_template","this_button","forEach","item","submit","text","off","on","handler","call","find","append","modal_form","form_submit_btn","focus","form_object","startProgress","stopProgress","click","e","document","destroyModal","cardProgress","card","dismiss","dismissText","spinner","onDismiss","me","btn_dismiss","dismissed","cardProgressDismiss","chatCtrl","element","chat","position","time","moment","Date","toISOString","format","picture","type","timeout","onShow","target","typing_element","append_element","setTimeout","fadeIn","target_height","outerHeight","scrollTop","jQuery"],"mappings":"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","sourcesContent":["(function($, window, i) {\n  // Bootstrap 4 Modal\n  $.fn.fireModal = function(options) {\n    var options = $.extend({\n      size: 'modal-md',\n      center: false,\n      animation: true,\n      title: 'Modal Title',\n      closeButton: true,\n      header: true,\n      bodyClass: '',\n      footerClass: '',\n      body: '',\n      buttons: [],\n      autoFocus: true,\n      removeOnDismiss: false,\n      created: function() {},\n      appended: function() {},\n      onFormSubmit: function() {},\n      modal: {}\n    }, options);\n\n    this.each(function() {\n      i++;\n      var id = 'fire-modal-' + i,\n        trigger_class = 'trigger--' + id,\n        trigger_button = $('.' + trigger_class);\n\n      $(this).addClass(trigger_class);\n\n      // Get modal body\n      let body = options.body;\n\n      if(typeof body == 'object') {\n        if(body.length) {\n          let part = body;\n          body = body.removeAttr('id').clone().removeClass('modal-part');\n          part.remove();\n        }else{\n          body = '<div class=\"text-danger\">Modal part element not found!</div>';\n        }\n      }\n\n      // Modal base template\n      var modal_template = '   <div class=\"modal'+ (options.animation == true ? ' fade' : '') +'\" tabindex=\"-1\" role=\"dialog\" id=\"'+ id +'\">  '  +\n                 '     <div class=\"modal-dialog '+options.size+(options.center ? ' modal-dialog-centered' : '')+'\" role=\"document\">  '  +\n                 '       <div class=\"modal-content\">  '  +\n                 ((options.header == true) ?\n                 '         <div class=\"modal-header\">  '  +\n                 '           <h5 class=\"modal-title\">'+ options.title +'</h5>  '  +\n                 ((options.closeButton == true) ?\n                 '           <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">  '  +\n                 '             <span aria-hidden=\"true\">&times;</span>  '  +\n                 '           </button>  '\n                 : '') +\n                 '         </div>  '\n                 : '') +\n                 '         <div class=\"modal-body\">  '  +\n                 '         </div>  '  +\n                 (options.buttons.length > 0 ?\n                 '         <div class=\"modal-footer\">  '  +\n                 '         </div>  '\n                 : '')+\n                 '       </div>  '  +\n                 '     </div>  '  +\n                 '  </div>  ' ;\n\n      // Convert modal to object\n      var modal_template = $(modal_template);\n\n      // Start creating buttons from 'buttons' option\n      var this_button;\n      options.buttons.forEach(function(item) {\n        // get option 'id'\n        let id = \"id\" in item ? item.id : '';\n\n        // Button template\n        this_button = '<button type=\"'+ (\"submit\" in item && item.submit == true ? 'submit' : 'button') +'\" class=\"'+ item.class +'\" id=\"'+ id +'\">'+ item.text +'</button>';\n\n        // add click event to the button\n        this_button = $(this_button).off('click').on(\"click\", function() {\n          // execute function from 'handler' option\n          item.handler.call(this, modal_template);\n        });\n        // append generated buttons to the modal footer\n        $(modal_template).find('.modal-footer').append(this_button);\n      });\n\n      // append a given body to the modal\n      $(modal_template).find('.modal-body').append(body);\n\n      // add additional body class\n      if(options.bodyClass) $(modal_template).find('.modal-body').addClass(options.bodyClass);\n\n      // add footer body class\n      if(options.footerClass) $(modal_template).find('.modal-footer').addClass(options.footerClass);\n\n      // execute 'created' callback\n      options.created.call(this, modal_template, options);\n\n      // modal form and submit form button\n      let modal_form = $(modal_template).find('.modal-body form'),\n        form_submit_btn = modal_template.find('button[type=submit]');\n\n      // append generated modal to the body\n      $(\"body\").append(modal_template);\n\n      // execute 'appended' callback\n      options.appended.call(this, $('#' + id), modal_form, options);\n\n      // if modal contains form elements\n      if(modal_form.length) {\n        // if `autoFocus` option is true\n        if(options.autoFocus) {\n          // when modal is shown\n          $(modal_template).on('shown.bs.modal', function() {\n            // if type of `autoFocus` option is `boolean`\n            if(typeof options.autoFocus == 'boolean')\n              modal_form.find('input:eq(0)').focus(); // the first input element will be focused\n            // if type of `autoFocus` option is `string` and `autoFocus` option is an HTML element\n            else if(typeof options.autoFocus == 'string' && modal_form.find(options.autoFocus).length)\n              modal_form.find(options.autoFocus).focus(); // find elements and focus on that\n          });\n        }\n\n        // form object\n        let form_object = {\n          startProgress: function() {\n            modal_template.addClass('modal-progress');\n          },\n          stopProgress: function() {\n            modal_template.removeClass('modal-progress');\n          }\n        };\n\n        // if form is not contains button element\n        if(!modal_form.find('button').length) $(modal_form).append('<button class=\"d-none\" id=\"'+ id +'-submit\"></button>');\n\n        // add click event\n        form_submit_btn.click(function() {\n          modal_form.submit();\n        });\n\n        // add submit event\n        modal_form.submit(function(e) {\n          // start form progress\n          form_object.startProgress();\n\n          // execute `onFormSubmit` callback\n          options.onFormSubmit.call(this, modal_template, e, form_object);\n        });\n      }\n\n      $(document).on(\"click\", '.' + trigger_class, function() {\n        let modal = $('#' + id).modal(options.modal);\n\n        if(options.removeOnDismiss) {\n          modal.on('hidden.bs.modal', function() {\n            modal.remove();\n          });\n        }\n\n        return false;\n      });\n    });\n  }\n\n  // Bootstrap Modal Destroyer\n  $.destroyModal = function(modal) {\n    modal.modal('hide');\n    modal.on('hidden.bs.modal', function() {\n    });\n  }\n\n  // Card Progress Controller\n  $.cardProgress = function(card, options) {\n    var options = $.extend({\n      dismiss: false,\n      dismissText: 'Cancel',\n      spinner: true,\n      onDismiss: function() {}\n    }, options);\n\n    var me = $(card);\n\n    me.addClass('card-progress');\n    if(options.spinner == false) {\n      me.addClass('remove-spinner');\n    }\n\n    if(options.dismiss == true) {\n      var btn_dismiss = '<a class=\"btn btn-danger card-progress-dismiss\">'+options.dismissText+'</a>';\n      btn_dismiss = $(btn_dismiss).off('click').on('click', function() {\n        me.removeClass('card-progress');\n        me.find('.card-progress-dismiss').remove();\n        options.onDismiss.call(this, me);\n      });\n      me.append(btn_dismiss);\n    }\n\n    return {\n      dismiss: function(dismissed) {\n        $.cardProgressDismiss(me, dismissed);\n      }\n    };\n  }\n\n  $.cardProgressDismiss = function(card, dismissed) {\n    var me = $(card);\n    me.removeClass('card-progress');\n    me.find('.card-progress-dismiss').remove();\n    if(dismissed)\n      dismissed.call(this, me);\n  }\n\n  $.chatCtrl = function(element, chat) {\n    var chat = $.extend({\n      position: 'chat-right',\n      text: '',\n      time: moment(new Date().toISOString()).format('hh:mm'),\n      picture: '',\n      type: 'text', // or typing\n      timeout: 0,\n      onShow: function() {}\n    }, chat);\n\n    var target = $(element),\n        element = '<div class=\"chat-item '+chat.position+'\" style=\"display:none\">' +\n                  '<img src=\"'+chat.picture+'\">' +\n                  '<div class=\"chat-details\">' +\n                  '<div class=\"chat-text\">'+chat.text+'</div>' +\n                  '<div class=\"chat-time\">'+chat.time+'</div>' +\n                  '</div>' +\n                  '</div>',\n        typing_element = '<div class=\"chat-item chat-left chat-typing\" style=\"display:none\">' +\n                  '<img src=\"'+chat.picture+'\">' +\n                  '<div class=\"chat-details\">' +\n                  '<div class=\"chat-text\"></div>' +\n                  '</div>' +\n                  '</div>';\n\n      var append_element = element;\n      if(chat.type == 'typing') {\n        append_element = typing_element;\n      }\n\n      if(chat.timeout > 0) {\n        setTimeout(function() {\n          target.find('.chat-content').append($(append_element).fadeIn());\n        }, chat.timeout);\n      }else{\n        target.find('.chat-content').append($(append_element).fadeIn());\n      }\n\n      var target_height = 0;\n      target.find('.chat-content .chat-item').each(function() {\n        target_height += $(this).outerHeight();\n      });\n      setTimeout(function() {\n        target.find('.chat-content').scrollTop(target_height, -1);\n      }, 100);\n      chat.onShow.call(this, append_element);\n  }\n})(jQuery, this, 0);\n"]},"metadata":{},"sourceType":"module"}